/*!
*  filename: ej2-buttons.umd.min.js.map
*  version : 1.0.25
*  Copyright Syncfusion Inc. 2001 - 2017. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/

{"version":3,"sources":["ej2-buttons.umd.js"],"names":["root","factory","exports","module","require","define","amd","a","i","this","__WEBPACK_EXTERNAL_MODULE_3__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","index_1","index_2","index_3","index_4","__export","hasOwnProperty","Object","defineProperty","value","apply","common_1","ej2_base_1","ej2_base_2","wrapperInitialize","tag","type","element","WRAPPER","tagName","ejInstance","getValue","input","createElement","attrs","props","wrapper","className","role","aria-checked","index","len","attributes","length","indexOf","nodeName","setAttribute","nodeValue","parentNode","insertBefore","detach","appendChild","setValue","getTextNode","node","childnode","childNodes","nodeType","createCheckBox","enableRipple","options","enableRtl","classList","add","rippleSpan","rippleEffect","isCenterRipple","duration","frameSpan","checked","label","labelSpan","innerHTML","button_1","__extends","extendStatics","setPrototypeOf","__proto__","Array","d","b","__","constructor","prototype","create","__decorate","decorators","target","key","desc","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","ej2_base_3","cssClassName","RTL","BUTTON","PRIMARY","ICONBTN","Button","_super","preRender","render","initialize","cssClass","addClass","split","isPrimary","content","setIconCss","disabled","controlStatus","selector","wireEvents","iconCss","textContent","span","iconPosition","isToggle","EventHandler","btnClickHandler","unWireEvents","remove","contains","destroy","removeClass","forEach","removeAttribute","replace","querySelector","getModuleName","getPersistData","addOnPersist","onPropertyChanged","newProp","oldProp","_i","_a","keys","Component","Property","NotifyPropertyChanges","buttonBuilder","CreateBuilder","check_box_1","ej2_base_4","RIPPLE","CheckBox","_this","isKeyPressed","changeState","state","ariaState","getWrapper","getElementsByClassName","isRippleEnabled","indeterminate","clickHandler","event","focusOutHandler","changeEventArgs","trigger","name","focusHandler","parentElement","setDisabled","initWrapper","for","labelPosition","setText","keyActionHandler","e","action","preventDefault","keyDownHandler","labelMouseHandler","event_1","document","createEvent","initEvent","dispatchEvent","mouseDownHandler","labelWrap","getElementsByTagName","ejInst","getAttribute","getUniqueID","text","keyboardModule","KeyboardEvents","eventName","keyAction","bind","keyConfigs","space","Event","checkBoxBuilder","radio_button_1","RadioButton","changeHandler","dataBind","updateChange","radioGrp","querySelectorAll","ej2_instances","getLabel","nextElementSibling","labelRippleHandler","ripple","textLabel","rippleLabel","radioButtonBuilder"],"mappings":"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","file":"ej2-buttons.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@syncfusion/ej2-base\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@syncfusion/ej2-base\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"@syncfusion/ej2-base\")) : factory(root[\"@syncfusion/ej2-base\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(1), __webpack_require__(4), __webpack_require__(6), __webpack_require__(8)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, index_1, index_2, index_3, index_4) {\n\t    \"use strict\";\n\t    function __export(m) {\n\t        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    __export(index_1);\n\t    __export(index_2);\n\t    __export(index_3);\n\t    __export(index_4);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(2)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, common_1) {\n\t    \"use strict\";\n\t    function __export(m) {\n\t        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    __export(common_1);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(3), __webpack_require__(3)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, ej2_base_1, ej2_base_2) {\n\t    \"use strict\";\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    function wrapperInitialize(tag, type, element, WRAPPER) {\n\t        if (element.tagName === tag) {\n\t            var ejInstance = ej2_base_2.getValue('ej2_instances', element);\n\t            var input = ej2_base_1.createElement('input', { attrs: { 'type': type } });\n\t            var props = ['change', 'cssClass', 'label', 'labelPosition'];\n\t            var wrapper = ej2_base_1.createElement(tag, {\n\t                className: WRAPPER, attrs: { 'role': type, 'aria-checked': 'false' }\n\t            });\n\t            for (var index = 0, len = element.attributes.length; index < len; index++) {\n\t                if (props.indexOf(element.attributes[index].nodeName) === -1) {\n\t                    input.setAttribute(element.attributes[index].nodeName, element.attributes[index].nodeValue);\n\t                }\n\t            }\n\t            element.parentNode.insertBefore(input, element);\n\t            ej2_base_1.detach(element);\n\t            element = input;\n\t            element.parentNode.insertBefore(wrapper, element);\n\t            wrapper.appendChild(element);\n\t            ej2_base_2.setValue('ej2_instances', ejInstance, element);\n\t        }\n\t        return element;\n\t    }\n\t    exports.wrapperInitialize = wrapperInitialize;\n\t    function getTextNode(element) {\n\t        var node;\n\t        var childnode = element.childNodes;\n\t        for (var i = 0; i < childnode.length; i++) {\n\t            node = childnode[i];\n\t            if (node.nodeType === 3) {\n\t                return node;\n\t            }\n\t        }\n\t        return null;\n\t    }\n\t    exports.getTextNode = getTextNode;\n\t    function createCheckBox(enableRipple, options) {\n\t        if (enableRipple === void 0) { enableRipple = false; }\n\t        if (options === void 0) { options = {}; }\n\t        var wrapper = ej2_base_1.createElement('div', { className: 'e-checkbox-wrapper' });\n\t        if (options.enableRtl) {\n\t            wrapper.classList.add('e-rtl');\n\t        }\n\t        if (enableRipple) {\n\t            var rippleSpan = ej2_base_1.createElement('span', { className: 'e-ripple-container' });\n\t            ej2_base_1.rippleEffect(rippleSpan, { isCenterRipple: true, duration: 400 });\n\t            wrapper.appendChild(rippleSpan);\n\t        }\n\t        var frameSpan = ej2_base_1.createElement('span', { className: 'e-frame e-icons' });\n\t        if (options.checked) {\n\t            frameSpan.classList.add('e-check');\n\t        }\n\t        wrapper.appendChild(frameSpan);\n\t        if (options.label) {\n\t            var labelSpan = ej2_base_1.createElement('span', { className: 'e-label', innerHTML: options.label });\n\t            wrapper.appendChild(labelSpan);\n\t        }\n\t        return wrapper;\n\t    }\n\t    exports.createCheckBox = createCheckBox;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(5)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, button_1) {\n\t    \"use strict\";\n\t    function __export(m) {\n\t        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    __export(button_1);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __extends = (this && this.__extends) || (function () {\n\t    var extendStatics = Object.setPrototypeOf ||\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n\t    return function (d, b) {\n\t        extendStatics(d, b);\n\t        function __() { this.constructor = d; }\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t    };\n\t})();\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(3), __webpack_require__(3), __webpack_require__(3), __webpack_require__(2)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, ej2_base_1, ej2_base_2, ej2_base_3, common_1) {\n\t    \"use strict\";\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    var cssClassName = {\n\t        RTL: 'e-rtl',\n\t        BUTTON: 'e-btn',\n\t        PRIMARY: 'e-primary',\n\t        ICONBTN: 'e-icon-btn'\n\t    };\n\t    var Button = (function (_super) {\n\t        __extends(Button, _super);\n\t        function Button(options, element) {\n\t            return _super.call(this, options, element) || this;\n\t        }\n\t        Button.prototype.preRender = function () {\n\t        };\n\t        Button.prototype.render = function () {\n\t            this.initialize();\n\t        };\n\t        Button.prototype.initialize = function () {\n\t            if (this.cssClass) {\n\t                ej2_base_3.addClass([this.element], this.cssClass.split(' '));\n\t            }\n\t            if (this.isPrimary) {\n\t                this.element.classList.add(cssClassName.PRIMARY);\n\t            }\n\t            if (this.content) {\n\t                this.element.innerHTML = this.content;\n\t            }\n\t            this.setIconCss();\n\t            if (this.enableRtl) {\n\t                this.element.classList.add(cssClassName.RTL);\n\t            }\n\t            if (this.disabled) {\n\t                this.controlStatus(this.disabled);\n\t            }\n\t            ej2_base_2.rippleEffect(this.element, { selector: '.' + cssClassName.BUTTON });\n\t            this.wireEvents();\n\t        };\n\t        Button.prototype.controlStatus = function (disabled) {\n\t            this.element.disabled = disabled;\n\t        };\n\t        Button.prototype.setIconCss = function () {\n\t            if (this.iconCss) {\n\t                if (!this.element.textContent) {\n\t                    this.element.classList.add(cssClassName.ICONBTN);\n\t                }\n\t                var span = ej2_base_3.createElement('span', { className: 'e-btn-icon ' + this.iconCss });\n\t                var node = this.element.childNodes[0];\n\t                if (node && this.iconPosition === 'left') {\n\t                    this.element.insertBefore(span, node);\n\t                    span.classList.add('e-icon-left');\n\t                }\n\t                else {\n\t                    this.element.appendChild(span);\n\t                    if (this.iconPosition === 'right') {\n\t                        span.classList.add('e-icon-right');\n\t                    }\n\t                }\n\t            }\n\t        };\n\t        Button.prototype.wireEvents = function () {\n\t            if (this.isToggle) {\n\t                ej2_base_2.EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n\t            }\n\t        };\n\t        Button.prototype.unWireEvents = function () {\n\t            if (this.isToggle) {\n\t                ej2_base_2.EventHandler.remove(this.element, 'click', this.btnClickHandler);\n\t            }\n\t        };\n\t        Button.prototype.btnClickHandler = function () {\n\t            if (this.element.classList.contains('e-active')) {\n\t                this.element.classList.remove('e-active');\n\t            }\n\t            else {\n\t                this.element.classList.add('e-active');\n\t            }\n\t        };\n\t        Button.prototype.destroy = function () {\n\t            var span;\n\t            var element = this.element;\n\t            _super.prototype.destroy.call(this);\n\t            ej2_base_3.removeClass([this.element], [cssClassName.PRIMARY, cssClassName.RTL, cssClassName.ICONBTN, 'e-success',\n\t                'e-info', 'e-danger', 'e-warning', 'e-flat', 'e-outline', 'e-small', 'e-bigger', 'e-active', 'e-round']);\n\t            ['e-ripple', 'disabled'].forEach(function (value) {\n\t                element.removeAttribute(value);\n\t            });\n\t            if (this.content) {\n\t                element.innerHTML = element.innerHTML.replace(this.content, '');\n\t            }\n\t            span = element.querySelector('span.e-btn-icon');\n\t            if (span) {\n\t                ej2_base_3.detach(span);\n\t            }\n\t            this.unWireEvents();\n\t        };\n\t        Button.prototype.getModuleName = function () {\n\t            return 'btn';\n\t        };\n\t        Button.prototype.getPersistData = function () {\n\t            return this.addOnPersist([]);\n\t        };\n\t        Button.prototype.onPropertyChanged = function (newProp, oldProp) {\n\t            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n\t                var prop = _a[_i];\n\t                switch (prop) {\n\t                    case 'isPrimary':\n\t                        if (newProp.isPrimary) {\n\t                            this.element.classList.add(cssClassName.PRIMARY);\n\t                        }\n\t                        else {\n\t                            this.element.classList.remove(cssClassName.PRIMARY);\n\t                        }\n\t                        break;\n\t                    case 'disabled':\n\t                        this.controlStatus(this.disabled);\n\t                        break;\n\t                    case 'iconCss':\n\t                        var span = this.element.querySelector('span.e-btn-icon');\n\t                        if (span) {\n\t                            span.className = 'e-btn-icon ' + this.iconCss;\n\t                            if (this.element.textContent) {\n\t                                if (this.iconPosition === 'left') {\n\t                                    span.classList.add('e-icon-left');\n\t                                }\n\t                                else {\n\t                                    span.classList.add('e-icon-right');\n\t                                }\n\t                            }\n\t                        }\n\t                        else {\n\t                            this.setIconCss();\n\t                        }\n\t                        break;\n\t                    case 'iconPosition':\n\t                        span = this.element.querySelector('span.e-btn-icon');\n\t                        if (span) {\n\t                            ej2_base_3.detach(span);\n\t                        }\n\t                        this.setIconCss();\n\t                        break;\n\t                    case 'cssClass':\n\t                        if (oldProp.cssClass) {\n\t                            ej2_base_3.removeClass([this.element], oldProp.cssClass.split(' '));\n\t                        }\n\t                        ej2_base_3.addClass([this.element], newProp.cssClass.split(' '));\n\t                        break;\n\t                    case 'enableRtl':\n\t                        if (newProp.enableRtl) {\n\t                            this.element.classList.add(cssClassName.RTL);\n\t                        }\n\t                        else {\n\t                            this.element.classList.remove(cssClassName.RTL);\n\t                        }\n\t                        break;\n\t                    case 'content':\n\t                        var node = common_1.getTextNode(this.element);\n\t                        if (node) {\n\t                            node.textContent = newProp.content;\n\t                        }\n\t                        else {\n\t                            this.element.innerHTML = newProp.content;\n\t                            this.element.classList.remove(cssClassName.ICONBTN);\n\t                            this.setIconCss();\n\t                        }\n\t                        break;\n\t                    case 'isToggle':\n\t                        if (newProp.isToggle) {\n\t                            ej2_base_2.EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n\t                        }\n\t                        else {\n\t                            ej2_base_2.EventHandler.remove(this.element, 'click', this.btnClickHandler);\n\t                            ej2_base_3.removeClass([this.element], ['e-active']);\n\t                        }\n\t                        break;\n\t                }\n\t            }\n\t        };\n\t        return Button;\n\t    }(ej2_base_1.Component));\n\t    __decorate([\n\t        ej2_base_1.Property('left')\n\t    ], Button.prototype, \"iconPosition\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], Button.prototype, \"iconCss\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property(false)\n\t    ], Button.prototype, \"disabled\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property(false)\n\t    ], Button.prototype, \"isPrimary\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], Button.prototype, \"cssClass\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], Button.prototype, \"content\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property(false)\n\t    ], Button.prototype, \"isToggle\", void 0);\n\t    Button = __decorate([\n\t        ej2_base_1.NotifyPropertyChanges\n\t    ], Button);\n\t    exports.Button = Button;\n\t    exports.buttonBuilder = ej2_base_2.CreateBuilder(Button);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(7)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, check_box_1) {\n\t    \"use strict\";\n\t    function __export(m) {\n\t        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    __export(check_box_1);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __extends = (this && this.__extends) || (function () {\n\t    var extendStatics = Object.setPrototypeOf ||\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n\t    return function (d, b) {\n\t        extendStatics(d, b);\n\t        function __() { this.constructor = d; }\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t    };\n\t})();\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(3), __webpack_require__(3), __webpack_require__(3), __webpack_require__(3)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, ej2_base_1, ej2_base_2, ej2_base_3, ej2_base_4) {\n\t    \"use strict\";\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    var CHECK = 'e-check';\n\t    var DISABLED = 'e-checkbox-disabled';\n\t    var FRAME = 'e-frame';\n\t    var INDETERMINATE = 'e-stop';\n\t    var LABEL = 'e-label';\n\t    var RIPPLE = 'e-ripple-container';\n\t    var RIPPLECHECK = 'e-ripple-check';\n\t    var RIPPLEINDETERMINATE = 'e-ripple-stop';\n\t    var RTL = 'e-rtl';\n\t    var WRAPPER = 'e-checkbox-wrapper';\n\t    var CheckBox = (function (_super) {\n\t        __extends(CheckBox, _super);\n\t        function CheckBox(options, element) {\n\t            var _this = _super.call(this, options, element) || this;\n\t            _this.isKeyPressed = false;\n\t            return _this;\n\t        }\n\t        CheckBox.prototype.changeState = function (state) {\n\t            var ariaState;\n\t            var rippleSpan;\n\t            var frameSpan = this.getWrapper().getElementsByClassName(FRAME)[0];\n\t            if (ej2_base_3.isRippleEnabled) {\n\t                rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n\t            }\n\t            if (state === 'check') {\n\t                frameSpan.classList.remove(INDETERMINATE);\n\t                frameSpan.classList.add(CHECK);\n\t                if (rippleSpan) {\n\t                    rippleSpan.classList.remove(RIPPLEINDETERMINATE);\n\t                    rippleSpan.classList.add(RIPPLECHECK);\n\t                }\n\t                ariaState = 'true';\n\t                this.element.checked = true;\n\t            }\n\t            else if (state === 'uncheck') {\n\t                ej2_base_3.removeClass([frameSpan], [CHECK, INDETERMINATE]);\n\t                if (rippleSpan) {\n\t                    ej2_base_3.removeClass([rippleSpan], [RIPPLECHECK, RIPPLEINDETERMINATE]);\n\t                }\n\t                ariaState = 'false';\n\t                this.element.checked = false;\n\t            }\n\t            else {\n\t                frameSpan.classList.remove(CHECK);\n\t                frameSpan.classList.add(INDETERMINATE);\n\t                if (rippleSpan) {\n\t                    rippleSpan.classList.remove(RIPPLECHECK);\n\t                    rippleSpan.classList.add(RIPPLEINDETERMINATE);\n\t                }\n\t                ariaState = 'mixed';\n\t                this.element.indeterminate = true;\n\t            }\n\t            this.getWrapper().setAttribute('aria-checked', ariaState);\n\t        };\n\t        CheckBox.prototype.clickHandler = function (event) {\n\t            this.focusOutHandler();\n\t            if (this.indeterminate) {\n\t                this.changeState(this.checked ? 'check' : 'uncheck');\n\t                this.indeterminate = false;\n\t                this.element.indeterminate = false;\n\t            }\n\t            else if (this.checked) {\n\t                this.changeState('uncheck');\n\t                this.checked = false;\n\t            }\n\t            else {\n\t                this.changeState('check');\n\t                this.checked = true;\n\t            }\n\t            var changeEventArgs = { checked: this.element.checked, event: event };\n\t            this.trigger('change', changeEventArgs);\n\t        };\n\t        CheckBox.prototype.destroy = function () {\n\t            var wrapper = this.getWrapper();\n\t            _super.prototype.destroy.call(this);\n\t            if (!this.disabled) {\n\t                this.unWireEvents();\n\t            }\n\t            wrapper.parentNode.insertBefore(this.element, wrapper);\n\t            ej2_base_3.detach(wrapper);\n\t            this.element.checked = false;\n\t            if (this.indeterminate) {\n\t                this.element.indeterminate = false;\n\t            }\n\t            if (this.name) {\n\t                this.element.removeAttribute('name');\n\t            }\n\t            if (this.value) {\n\t                this.element.removeAttribute('value');\n\t            }\n\t            if (this.disabled) {\n\t                this.element.removeAttribute('disabled');\n\t            }\n\t        };\n\t        CheckBox.prototype.focusHandler = function () {\n\t            if (this.isKeyPressed) {\n\t                this.getWrapper().classList.add('e-focus');\n\t            }\n\t        };\n\t        CheckBox.prototype.focusOutHandler = function () {\n\t            this.getWrapper().classList.remove('e-focus');\n\t        };\n\t        CheckBox.prototype.getModuleName = function () {\n\t            return 'checkbox';\n\t        };\n\t        CheckBox.prototype.getPersistData = function () {\n\t            return this.addOnPersist(['checked', 'indeterminate']);\n\t        };\n\t        CheckBox.prototype.getWrapper = function () {\n\t            return this.element.parentElement.parentElement;\n\t        };\n\t        CheckBox.prototype.initialize = function () {\n\t            if (this.name) {\n\t                this.element.setAttribute('name', this.name);\n\t            }\n\t            if (this.value) {\n\t                this.element.setAttribute('value', this.value);\n\t            }\n\t            if (this.checked) {\n\t                this.changeState('check');\n\t            }\n\t            if (this.indeterminate) {\n\t                this.changeState();\n\t            }\n\t            if (this.disabled) {\n\t                this.setDisabled();\n\t            }\n\t        };\n\t        CheckBox.prototype.initWrapper = function () {\n\t            var wrapper = this.element.parentElement;\n\t            if (!wrapper.classList.contains(WRAPPER)) {\n\t                wrapper = ej2_base_3.createElement('div', {\n\t                    className: WRAPPER, attrs: { 'role': 'checkbox', 'aria-checked': 'false' }\n\t                });\n\t                this.element.parentNode.insertBefore(wrapper, this.element);\n\t            }\n\t            var label = ej2_base_3.createElement('label', { attrs: { for: this.element.id } });\n\t            var frameSpan = ej2_base_3.createElement('span', { className: 'e-icons ' + FRAME });\n\t            if (this.enableRtl) {\n\t                wrapper.classList.add(RTL);\n\t            }\n\t            if (this.cssClass) {\n\t                ej2_base_3.addClass([wrapper], this.cssClass.split(' '));\n\t            }\n\t            wrapper.appendChild(label);\n\t            label.appendChild(this.element);\n\t            label.appendChild(frameSpan);\n\t            if (ej2_base_3.isRippleEnabled) {\n\t                var rippleSpan = ej2_base_3.createElement('span', { className: RIPPLE });\n\t                if (this.labelPosition === 'before') {\n\t                    label.appendChild(rippleSpan);\n\t                }\n\t                else {\n\t                    label.insertBefore(rippleSpan, frameSpan);\n\t                }\n\t                ej2_base_3.rippleEffect(rippleSpan, { duration: 400, isCenterRipple: true });\n\t            }\n\t            if (this.label) {\n\t                this.setText(this.label);\n\t            }\n\t        };\n\t        CheckBox.prototype.keyActionHandler = function (e) {\n\t            if (e.action === 'space') {\n\t                e.preventDefault();\n\t                this.clickHandler(e);\n\t                this.focusHandler();\n\t            }\n\t        };\n\t        CheckBox.prototype.keyDownHandler = function () {\n\t            this.isKeyPressed = true;\n\t        };\n\t        CheckBox.prototype.labelMouseHandler = function (e) {\n\t            var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n\t            if (rippleSpan) {\n\t                var event_1 = document.createEvent('MouseEvents');\n\t                event_1.initEvent(e.type, false, true);\n\t                rippleSpan.dispatchEvent(event_1);\n\t            }\n\t        };\n\t        CheckBox.prototype.mouseDownHandler = function () {\n\t            this.isKeyPressed = false;\n\t        };\n\t        CheckBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n\t            var wrapper = this.getWrapper();\n\t            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n\t                var prop = _a[_i];\n\t                switch (prop) {\n\t                    case 'checked':\n\t                        this.indeterminate = false;\n\t                        this.element.indeterminate = false;\n\t                        this.changeState(newProp.checked ? 'check' : 'uncheck');\n\t                        break;\n\t                    case 'indeterminate':\n\t                        if (newProp.indeterminate) {\n\t                            this.changeState();\n\t                        }\n\t                        else {\n\t                            this.element.indeterminate = false;\n\t                            this.changeState(this.checked ? 'check' : 'uncheck');\n\t                        }\n\t                        break;\n\t                    case 'disabled':\n\t                        if (newProp.disabled) {\n\t                            this.setDisabled();\n\t                            this.unWireEvents();\n\t                        }\n\t                        else {\n\t                            this.element.disabled = false;\n\t                            wrapper.classList.remove(DISABLED);\n\t                            wrapper.setAttribute('aria-disabled', 'false');\n\t                            this.wireEvents();\n\t                        }\n\t                        break;\n\t                    case 'cssClass':\n\t                        if (oldProp.cssClass) {\n\t                            wrapper.classList.remove(oldProp.cssClass);\n\t                        }\n\t                        wrapper.classList.add(newProp.cssClass);\n\t                        break;\n\t                    case 'enableRtl':\n\t                        if (newProp.enableRtl) {\n\t                            wrapper.classList.add(RTL);\n\t                        }\n\t                        else {\n\t                            wrapper.classList.remove(RTL);\n\t                        }\n\t                        break;\n\t                    case 'label':\n\t                        this.setText(newProp.label);\n\t                        break;\n\t                    case 'labelPosition':\n\t                        var label = wrapper.getElementsByClassName(LABEL)[0];\n\t                        var labelWrap = wrapper.getElementsByTagName('label')[0];\n\t                        ej2_base_3.detach(label);\n\t                        if (newProp.labelPosition === 'after') {\n\t                            labelWrap.appendChild(label);\n\t                        }\n\t                        else {\n\t                            labelWrap.insertBefore(label, wrapper.getElementsByClassName(FRAME)[0]);\n\t                        }\n\t                        break;\n\t                    case 'name':\n\t                        this.element.setAttribute('name', newProp.name);\n\t                        break;\n\t                    case 'value':\n\t                        this.element.setAttribute('value', newProp.value);\n\t                        break;\n\t                }\n\t            }\n\t        };\n\t        CheckBox.prototype.preRender = function () {\n\t            if (this.element.tagName === 'EJ-CHECKBOX') {\n\t                var ejInst = ej2_base_4.getValue('ej2_instances', this.element);\n\t                var input = ej2_base_3.createElement('input', { attrs: { 'type': 'checkbox' } });\n\t                var props = ['change', 'cssClass', 'indeterminate', 'label', 'labelPosition'];\n\t                var wrapper = ej2_base_3.createElement('EJ-CHECKBOX', {\n\t                    className: WRAPPER, attrs: { 'role': 'checkbox', 'aria-checked': 'false' }\n\t                });\n\t                for (var index = 0, len = this.element.attributes.length; index < len; index++) {\n\t                    if (props.indexOf(this.element.attributes[index].nodeName) === -1) {\n\t                        input.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\n\t                    }\n\t                }\n\t                this.element.parentNode.insertBefore(input, this.element);\n\t                ej2_base_3.detach(this.element);\n\t                this.element = input;\n\t                this.element.parentNode.insertBefore(wrapper, this.element);\n\t                wrapper.appendChild(this.element);\n\t                ej2_base_4.setValue('ej2_instances', ejInst, this.element);\n\t            }\n\t            if (this.element.getAttribute('type') !== 'checkbox') {\n\t                this.element.setAttribute('type', 'checkbox');\n\t            }\n\t            if (!this.element.id) {\n\t                this.element.id = ej2_base_4.getUniqueID('e-' + this.getModuleName());\n\t            }\n\t        };\n\t        CheckBox.prototype.render = function () {\n\t            this.initWrapper();\n\t            this.initialize();\n\t            if (!this.disabled) {\n\t                this.wireEvents();\n\t            }\n\t        };\n\t        CheckBox.prototype.setDisabled = function () {\n\t            var wrapper = this.getWrapper();\n\t            this.element.disabled = true;\n\t            wrapper.classList.add(DISABLED);\n\t            wrapper.setAttribute('aria-disabled', 'true');\n\t        };\n\t        CheckBox.prototype.setText = function (text) {\n\t            var label = this.getWrapper().getElementsByClassName(LABEL)[0];\n\t            if (label) {\n\t                label.textContent = text;\n\t            }\n\t            else {\n\t                label = ej2_base_3.createElement('span', { className: LABEL, innerHTML: text });\n\t                var labelWrap = this.getWrapper().getElementsByTagName('label')[0];\n\t                if (this.labelPosition === 'before') {\n\t                    labelWrap.insertBefore(label, this.getWrapper().getElementsByClassName(FRAME)[0]);\n\t                }\n\t                else {\n\t                    labelWrap.appendChild(label);\n\t                }\n\t            }\n\t        };\n\t        CheckBox.prototype.unWireEvents = function () {\n\t            var wrapper = this.getWrapper();\n\t            ej2_base_2.EventHandler.remove(this.element, 'click', this.clickHandler);\n\t            this.keyboardModule.destroy();\n\t            ej2_base_2.EventHandler.remove(document, 'keydown', this.keyDownHandler);\n\t            ej2_base_2.EventHandler.remove(wrapper, 'mousedown', this.mouseDownHandler);\n\t            ej2_base_2.EventHandler.remove(this.element, 'focus', this.focusHandler);\n\t            ej2_base_2.EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n\t            var label = wrapper.getElementsByTagName('label')[0];\n\t            ej2_base_2.EventHandler.remove(label, 'mousedown', this.labelMouseHandler);\n\t            ej2_base_2.EventHandler.remove(label, 'mouseup', this.labelMouseHandler);\n\t        };\n\t        CheckBox.prototype.wireEvents = function () {\n\t            var wrapper = this.getWrapper();\n\t            ej2_base_2.EventHandler.add(this.element, 'click', this.clickHandler, this);\n\t            this.keyboardModule = new ej2_base_2.KeyboardEvents(wrapper, {\n\t                eventName: 'keyup',\n\t                keyAction: this.keyActionHandler.bind(this),\n\t                keyConfigs: { space: 'space' }\n\t            });\n\t            ej2_base_2.EventHandler.add(document, 'keydown', this.keyDownHandler, this);\n\t            ej2_base_2.EventHandler.add(wrapper, 'mousedown', this.mouseDownHandler, this);\n\t            ej2_base_2.EventHandler.add(this.element, 'focus', this.focusHandler, this);\n\t            ej2_base_2.EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n\t            var label = wrapper.getElementsByTagName('label')[0];\n\t            ej2_base_2.EventHandler.add(label, 'mousedown', this.labelMouseHandler, this);\n\t            ej2_base_2.EventHandler.add(label, 'mouseup', this.labelMouseHandler, this);\n\t        };\n\t        return CheckBox;\n\t    }(ej2_base_1.Component));\n\t    __decorate([\n\t        ej2_base_2.Event()\n\t    ], CheckBox.prototype, \"change\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property(false)\n\t    ], CheckBox.prototype, \"checked\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], CheckBox.prototype, \"cssClass\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property(false)\n\t    ], CheckBox.prototype, \"disabled\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property(false)\n\t    ], CheckBox.prototype, \"indeterminate\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], CheckBox.prototype, \"label\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('after')\n\t    ], CheckBox.prototype, \"labelPosition\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], CheckBox.prototype, \"name\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], CheckBox.prototype, \"value\", void 0);\n\t    CheckBox = __decorate([\n\t        ej2_base_1.NotifyPropertyChanges\n\t    ], CheckBox);\n\t    exports.CheckBox = CheckBox;\n\t    exports.checkBoxBuilder = ej2_base_1.CreateBuilder(CheckBox);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(9)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, radio_button_1) {\n\t    \"use strict\";\n\t    function __export(m) {\n\t        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    __export(radio_button_1);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __extends = (this && this.__extends) || (function () {\n\t    var extendStatics = Object.setPrototypeOf ||\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n\t    return function (d, b) {\n\t        extendStatics(d, b);\n\t        function __() { this.constructor = d; }\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t    };\n\t})();\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(3), __webpack_require__(3), __webpack_require__(3), __webpack_require__(3), __webpack_require__(2)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, ej2_base_1, ej2_base_2, ej2_base_3, ej2_base_4, common_1) {\n\t    \"use strict\";\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    var LABEL = 'e-label';\n\t    var RIPPLE = 'e-ripple-container';\n\t    var RTL = 'e-rtl';\n\t    var WRAPPER = 'e-radio-wrapper';\n\t    var RadioButton = (function (_super) {\n\t        __extends(RadioButton, _super);\n\t        function RadioButton(options, element) {\n\t            var _this = _super.call(this, options, element) || this;\n\t            _this.isKeyPressed = false;\n\t            return _this;\n\t        }\n\t        RadioButton.prototype.changeHandler = function (event) {\n\t            this.checked = true;\n\t            this.dataBind();\n\t            var changeEventArgs = { checked: true, event: event };\n\t            this.trigger('change', changeEventArgs);\n\t        };\n\t        RadioButton.prototype.updateChange = function (state) {\n\t            var input;\n\t            var name = this.element.getAttribute('name');\n\t            var radioGrp = document.querySelectorAll('input.e-radio[name=\"' + name + '\"]');\n\t            for (var i = 0; i < radioGrp.length; i++) {\n\t                input = radioGrp[i];\n\t                if (input !== this.element) {\n\t                    input.ej2_instances[0].checked = false;\n\t                }\n\t            }\n\t        };\n\t        RadioButton.prototype.destroy = function () {\n\t            var label = this.getLabel();\n\t            _super.prototype.destroy.call(this);\n\t            if (!this.disabled) {\n\t                this.unWireEvents();\n\t            }\n\t            ej2_base_3.detach(label);\n\t            this.element.checked = false;\n\t            if (this.name) {\n\t                this.element.removeAttribute('name');\n\t            }\n\t            if (this.value) {\n\t                this.element.removeAttribute('value');\n\t            }\n\t            if (this.disabled) {\n\t                this.element.removeAttribute('disabled');\n\t            }\n\t        };\n\t        RadioButton.prototype.focusHandler = function () {\n\t            if (this.isKeyPressed) {\n\t                this.getLabel().classList.add('e-focus');\n\t            }\n\t        };\n\t        RadioButton.prototype.focusOutHandler = function () {\n\t            this.getLabel().classList.remove('e-focus');\n\t        };\n\t        RadioButton.prototype.getModuleName = function () {\n\t            return 'radio';\n\t        };\n\t        RadioButton.prototype.getPersistData = function () {\n\t            return this.addOnPersist(['checked']);\n\t        };\n\t        RadioButton.prototype.getLabel = function () {\n\t            return this.element.nextElementSibling;\n\t        };\n\t        RadioButton.prototype.initialize = function () {\n\t            this.initWrapper();\n\t            if (this.name) {\n\t                this.element.setAttribute('name', this.name);\n\t            }\n\t            if (this.value) {\n\t                this.element.setAttribute('value', this.value);\n\t            }\n\t            if (this.checked) {\n\t                this.element.checked = true;\n\t            }\n\t            if (this.disabled) {\n\t                this.setDisabled();\n\t            }\n\t        };\n\t        RadioButton.prototype.initWrapper = function () {\n\t            var rippleSpan;\n\t            var wrapper = this.element.parentElement;\n\t            if (!wrapper.classList.contains(WRAPPER)) {\n\t                wrapper = ej2_base_3.createElement('div', { className: WRAPPER });\n\t                this.element.parentNode.insertBefore(wrapper, this.element);\n\t            }\n\t            var label = ej2_base_3.createElement('label', { attrs: { for: this.element.id } });\n\t            wrapper.appendChild(this.element);\n\t            wrapper.appendChild(label);\n\t            if (ej2_base_3.isRippleEnabled) {\n\t                rippleSpan = ej2_base_3.createElement('span', { className: (RIPPLE) });\n\t                label.appendChild(rippleSpan);\n\t                ej2_base_1.rippleEffect(rippleSpan, {\n\t                    duration: 400,\n\t                    isCenterRipple: true\n\t                });\n\t            }\n\t            if (this.enableRtl) {\n\t                label.classList.add(RTL);\n\t            }\n\t            if (this.cssClass) {\n\t                ej2_base_3.addClass([label], this.cssClass.split(' '));\n\t            }\n\t            if (this.label) {\n\t                this.setText(this.label);\n\t            }\n\t        };\n\t        RadioButton.prototype.keyDownHandler = function () {\n\t            this.isKeyPressed = true;\n\t        };\n\t        RadioButton.prototype.labelRippleHandler = function (e) {\n\t            var ripple = this.getLabel().getElementsByClassName(RIPPLE)[0];\n\t            if (ripple) {\n\t                var event_1 = document.createEvent('MouseEvents');\n\t                event_1.initEvent(e.type, true, true);\n\t                ripple.dispatchEvent(event_1);\n\t            }\n\t        };\n\t        RadioButton.prototype.mouseDownHandler = function () {\n\t            this.isKeyPressed = false;\n\t        };\n\t        RadioButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n\t            var label = this.getLabel();\n\t            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n\t                var prop = _a[_i];\n\t                switch (prop) {\n\t                    case 'checked':\n\t                        if (newProp.checked) {\n\t                            this.updateChange(newProp.checked);\n\t                        }\n\t                        this.element.checked = newProp.checked;\n\t                        break;\n\t                    case 'disabled':\n\t                        if (newProp.disabled) {\n\t                            this.setDisabled();\n\t                            this.unWireEvents();\n\t                        }\n\t                        else {\n\t                            this.element.disabled = false;\n\t                            this.wireEvents();\n\t                        }\n\t                        break;\n\t                    case 'cssClass':\n\t                        if (oldProp.cssClass) {\n\t                            label.classList.remove(oldProp.cssClass);\n\t                        }\n\t                        label.classList.add(newProp.cssClass);\n\t                        break;\n\t                    case 'enableRtl':\n\t                        if (newProp.enableRtl) {\n\t                            label.classList.add(RTL);\n\t                        }\n\t                        else {\n\t                            label.classList.remove(RTL);\n\t                        }\n\t                        break;\n\t                    case 'label':\n\t                        this.setText(newProp.label);\n\t                        break;\n\t                    case 'labelPosition':\n\t                        if (newProp.labelPosition === 'before') {\n\t                            label.classList.add('e-right');\n\t                        }\n\t                        else {\n\t                            label.classList.remove('e-right');\n\t                        }\n\t                        break;\n\t                    case 'name':\n\t                        this.element.setAttribute('name', newProp.name);\n\t                        break;\n\t                    case 'value':\n\t                        this.element.setAttribute('value', newProp.value);\n\t                        break;\n\t                }\n\t            }\n\t        };\n\t        RadioButton.prototype.preRender = function () {\n\t            var element = this.element;\n\t            element = common_1.wrapperInitialize('EJ-RADIOBUTTON', 'radio', element, WRAPPER);\n\t            this.element = element;\n\t            if (this.element.getAttribute('type') !== 'radio') {\n\t                this.element.setAttribute('type', 'radio');\n\t            }\n\t            if (!this.element.id) {\n\t                this.element.id = ej2_base_4.getUniqueID('e-' + this.getModuleName());\n\t            }\n\t        };\n\t        RadioButton.prototype.render = function () {\n\t            this.initialize();\n\t            if (!this.disabled) {\n\t                this.wireEvents();\n\t            }\n\t        };\n\t        RadioButton.prototype.setDisabled = function () {\n\t            this.element.disabled = true;\n\t        };\n\t        RadioButton.prototype.setText = function (text) {\n\t            var label = this.getLabel();\n\t            var textLabel = label.getElementsByClassName(LABEL)[0];\n\t            if (textLabel) {\n\t                textLabel.textContent = text;\n\t            }\n\t            else {\n\t                textLabel = ej2_base_3.createElement('span', { className: LABEL, innerHTML: text });\n\t                label.appendChild(textLabel);\n\t            }\n\t            if (this.labelPosition === 'before') {\n\t                this.getLabel().classList.add('e-right');\n\t            }\n\t            else {\n\t                this.getLabel().classList.remove('e-right');\n\t            }\n\t        };\n\t        RadioButton.prototype.unWireEvents = function () {\n\t            var label = this.getLabel();\n\t            ej2_base_2.EventHandler.remove(this.element, 'change', this.changeHandler);\n\t            ej2_base_2.EventHandler.remove(document, 'keydown', this.keyDownHandler);\n\t            ej2_base_2.EventHandler.remove(label, 'mousedown', this.mouseDownHandler);\n\t            ej2_base_2.EventHandler.remove(this.element, 'focus', this.focusHandler);\n\t            ej2_base_2.EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n\t            var rippleLabel = label.getElementsByClassName(LABEL)[0];\n\t            if (rippleLabel) {\n\t                ej2_base_2.EventHandler.remove(rippleLabel, 'mousedown', this.labelRippleHandler);\n\t                ej2_base_2.EventHandler.remove(rippleLabel, 'mouseup', this.labelRippleHandler);\n\t            }\n\t        };\n\t        RadioButton.prototype.wireEvents = function () {\n\t            var label = this.getLabel();\n\t            ej2_base_2.EventHandler.add(this.element, 'change', this.changeHandler, this);\n\t            ej2_base_2.EventHandler.add(document, 'keydown', this.keyDownHandler, this);\n\t            ej2_base_2.EventHandler.add(label, 'mousedown', this.mouseDownHandler, this);\n\t            ej2_base_2.EventHandler.add(this.element, 'focus', this.focusHandler, this);\n\t            ej2_base_2.EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n\t            var rippleLabel = label.getElementsByClassName(LABEL)[0];\n\t            if (rippleLabel) {\n\t                ej2_base_2.EventHandler.add(rippleLabel, 'mousedown', this.labelRippleHandler, this);\n\t                ej2_base_2.EventHandler.add(rippleLabel, 'mouseup', this.labelRippleHandler, this);\n\t            }\n\t        };\n\t        return RadioButton;\n\t    }(ej2_base_1.Component));\n\t    __decorate([\n\t        ej2_base_2.Event()\n\t    ], RadioButton.prototype, \"change\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property(false)\n\t    ], RadioButton.prototype, \"checked\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], RadioButton.prototype, \"cssClass\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property(false)\n\t    ], RadioButton.prototype, \"disabled\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], RadioButton.prototype, \"label\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('after')\n\t    ], RadioButton.prototype, \"labelPosition\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], RadioButton.prototype, \"name\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], RadioButton.prototype, \"value\", void 0);\n\t    RadioButton = __decorate([\n\t        ej2_base_1.NotifyPropertyChanges\n\t    ], RadioButton);\n\t    exports.RadioButton = RadioButton;\n\t    exports.radioButtonBuilder = ej2_base_1.CreateBuilder(RadioButton);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ })\n/******/ ])\n});\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBmYmJjMzViMzU3NDc3M2M3NDUyNCIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiIiwid2VicGFjazovLy8uL3NyYy9idXR0b24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2J1dHRvbi9idXR0b24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NoZWNrLWJveC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY2hlY2stYm94L2NoZWNrLWJveC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcmFkaW8tYnV0dG9uL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9yYWRpby1idXR0b24vcmFkaW8tYnV0dG9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxPO0FDVkE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7OztpRUN0Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFrRCxjQUFjO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7Ozs7OztpRUNWRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQWtELGNBQWM7QUFDaEU7QUFDQSxFQUFDOzs7Ozs7O2lFQ1BEO0FBQ0E7QUFDQSxtREFBa0QsY0FBYztBQUNoRTtBQUNBO0FBQ0E7QUFDQSw0REFBMkQsU0FBUyxlQUFlLEVBQUU7QUFDckY7QUFDQTtBQUNBLDZDQUE0QztBQUM1QyxjQUFhO0FBQ2IsaUVBQWdFLGFBQWE7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXNDLHNCQUFzQjtBQUM1RCxrQ0FBaUMsY0FBYztBQUMvQyx3REFBdUQsa0NBQWtDO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQStELGtDQUFrQztBQUNqRyxrREFBaUQsc0NBQXNDO0FBQ3ZGO0FBQ0E7QUFDQSwyREFBMEQsK0JBQStCO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBOEQsaURBQWlEO0FBQy9HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDOzs7Ozs7O0FDOURELGdEOzs7Ozs7aUVDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFrRCxjQUFjO0FBQ2hFO0FBQ0EsRUFBQzs7Ozs7OztBQ1BEO0FBQ0E7QUFDQSxXQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYsMEJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0Esd0JBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLDZDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQWtELGNBQWM7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW1ELHNDQUFzQztBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE2RCwwQ0FBMEM7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXVELGdCQUFnQjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUE4RCxvQ0FBb0M7QUFDbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDIiwiZmlsZSI6ImVqMi1idXR0b25zLnVtZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIkBzeW5jZnVzaW9uL2VqMi1iYXNlXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcIkBzeW5jZnVzaW9uL2VqMi1iYXNlXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSB7XG5cdFx0dmFyIGEgPSB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBmYWN0b3J5KHJlcXVpcmUoXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiKSkgOiBmYWN0b3J5KHJvb3RbXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiXSk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzNfXykge1xucmV0dXJuIFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBmYmJjMzViMzU3NDc3M2M3NDUyNCIsImRlZmluZShbXCJyZXF1aXJlXCIsIFwiZXhwb3J0c1wiLCBcIi4vY29tbW9uL2luZGV4XCIsIFwiLi9idXR0b24vaW5kZXhcIiwgXCIuL2NoZWNrLWJveC9pbmRleFwiLCBcIi4vcmFkaW8tYnV0dG9uL2luZGV4XCJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgaW5kZXhfMSwgaW5kZXhfMiwgaW5kZXhfMywgaW5kZXhfNCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4gICAgX19leHBvcnQoaW5kZXhfMSk7XG4gICAgX19leHBvcnQoaW5kZXhfMik7XG4gICAgX19leHBvcnQoaW5kZXhfMyk7XG4gICAgX19leHBvcnQoaW5kZXhfNCk7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImRlZmluZShbXCJyZXF1aXJlXCIsIFwiZXhwb3J0c1wiLCBcIi4vY29tbW9uXCJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgY29tbW9uXzEpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBmdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuICAgIF9fZXhwb3J0KGNvbW1vbl8xKTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tbW9uL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImRlZmluZShbXCJyZXF1aXJlXCIsIFwiZXhwb3J0c1wiLCBcIkBzeW5jZnVzaW9uL2VqMi1iYXNlXCIsIFwiQHN5bmNmdXNpb24vZWoyLWJhc2VcIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBlajJfYmFzZV8xLCBlajJfYmFzZV8yKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJJbml0aWFsaXplKHRhZywgdHlwZSwgZWxlbWVudCwgV1JBUFBFUikge1xuICAgICAgICBpZiAoZWxlbWVudC50YWdOYW1lID09PSB0YWcpIHtcbiAgICAgICAgICAgIHZhciBlakluc3RhbmNlID0gZWoyX2Jhc2VfMi5nZXRWYWx1ZSgnZWoyX2luc3RhbmNlcycsIGVsZW1lbnQpO1xuICAgICAgICAgICAgdmFyIGlucHV0ID0gZWoyX2Jhc2VfMS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsgYXR0cnM6IHsgJ3R5cGUnOiB0eXBlIH0gfSk7XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSBbJ2NoYW5nZScsICdjc3NDbGFzcycsICdsYWJlbCcsICdsYWJlbFBvc2l0aW9uJ107XG4gICAgICAgICAgICB2YXIgd3JhcHBlciA9IGVqMl9iYXNlXzEuY3JlYXRlRWxlbWVudCh0YWcsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFdSQVBQRVIsIGF0dHJzOiB7ICdyb2xlJzogdHlwZSwgJ2FyaWEtY2hlY2tlZCc6ICdmYWxzZScgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDAsIGxlbiA9IGVsZW1lbnQuYXR0cmlidXRlcy5sZW5ndGg7IGluZGV4IDwgbGVuOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BzLmluZGV4T2YoZWxlbWVudC5hdHRyaWJ1dGVzW2luZGV4XS5ub2RlTmFtZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZShlbGVtZW50LmF0dHJpYnV0ZXNbaW5kZXhdLm5vZGVOYW1lLCBlbGVtZW50LmF0dHJpYnV0ZXNbaW5kZXhdLm5vZGVWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShpbnB1dCwgZWxlbWVudCk7XG4gICAgICAgICAgICBlajJfYmFzZV8xLmRldGFjaChlbGVtZW50KTtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBpbnB1dDtcbiAgICAgICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod3JhcHBlciwgZWxlbWVudCk7XG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5zZXRWYWx1ZSgnZWoyX2luc3RhbmNlcycsIGVqSW5zdGFuY2UsIGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgICBleHBvcnRzLndyYXBwZXJJbml0aWFsaXplID0gd3JhcHBlckluaXRpYWxpemU7XG4gICAgZnVuY3Rpb24gZ2V0VGV4dE5vZGUoZWxlbWVudCkge1xuICAgICAgICB2YXIgbm9kZTtcbiAgICAgICAgdmFyIGNoaWxkbm9kZSA9IGVsZW1lbnQuY2hpbGROb2RlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZG5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG5vZGUgPSBjaGlsZG5vZGVbaV07XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBleHBvcnRzLmdldFRleHROb2RlID0gZ2V0VGV4dE5vZGU7XG4gICAgZnVuY3Rpb24gY3JlYXRlQ2hlY2tCb3goZW5hYmxlUmlwcGxlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChlbmFibGVSaXBwbGUgPT09IHZvaWQgMCkgeyBlbmFibGVSaXBwbGUgPSBmYWxzZTsgfVxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB2YXIgd3JhcHBlciA9IGVqMl9iYXNlXzEuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6ICdlLWNoZWNrYm94LXdyYXBwZXInIH0pO1xuICAgICAgICBpZiAob3B0aW9ucy5lbmFibGVSdGwpIHtcbiAgICAgICAgICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnZS1ydGwnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5hYmxlUmlwcGxlKSB7XG4gICAgICAgICAgICB2YXIgcmlwcGxlU3BhbiA9IGVqMl9iYXNlXzEuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnZS1yaXBwbGUtY29udGFpbmVyJyB9KTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzEucmlwcGxlRWZmZWN0KHJpcHBsZVNwYW4sIHsgaXNDZW50ZXJSaXBwbGU6IHRydWUsIGR1cmF0aW9uOiA0MDAgfSk7XG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHJpcHBsZVNwYW4pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmcmFtZVNwYW4gPSBlajJfYmFzZV8xLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ2UtZnJhbWUgZS1pY29ucycgfSk7XG4gICAgICAgIGlmIChvcHRpb25zLmNoZWNrZWQpIHtcbiAgICAgICAgICAgIGZyYW1lU3Bhbi5jbGFzc0xpc3QuYWRkKCdlLWNoZWNrJyk7XG4gICAgICAgIH1cbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChmcmFtZVNwYW4pO1xuICAgICAgICBpZiAob3B0aW9ucy5sYWJlbCkge1xuICAgICAgICAgICAgdmFyIGxhYmVsU3BhbiA9IGVqMl9iYXNlXzEuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnZS1sYWJlbCcsIGlubmVySFRNTDogb3B0aW9ucy5sYWJlbCB9KTtcbiAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQobGFiZWxTcGFuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG4gICAgZXhwb3J0cy5jcmVhdGVDaGVja0JveCA9IGNyZWF0ZUNoZWNrQm94O1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21tb24vY29tbW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zX187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImRlZmluZShbXCJyZXF1aXJlXCIsIFwiZXhwb3J0c1wiLCBcIi4vYnV0dG9uXCJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgYnV0dG9uXzEpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBmdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuICAgIF9fZXhwb3J0KGJ1dHRvbl8xKTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYnV0dG9uL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuZGVmaW5lKFtcInJlcXVpcmVcIiwgXCJleHBvcnRzXCIsIFwiQHN5bmNmdXNpb24vZWoyLWJhc2VcIiwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiLCBcIkBzeW5jZnVzaW9uL2VqMi1iYXNlXCIsIFwiLi4vY29tbW9uL2NvbW1vblwiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIGVqMl9iYXNlXzEsIGVqMl9iYXNlXzIsIGVqMl9iYXNlXzMsIGNvbW1vbl8xKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuICAgIHZhciBjc3NDbGFzc05hbWUgPSB7XG4gICAgICAgIFJUTDogJ2UtcnRsJyxcbiAgICAgICAgQlVUVE9OOiAnZS1idG4nLFxuICAgICAgICBQUklNQVJZOiAnZS1wcmltYXJ5JyxcbiAgICAgICAgSUNPTkJUTjogJ2UtaWNvbi1idG4nXG4gICAgfTtcbiAgICB2YXIgQnV0dG9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKEJ1dHRvbiwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gQnV0dG9uKG9wdGlvbnMsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBvcHRpb25zLCBlbGVtZW50KSB8fCB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIEJ1dHRvbi5wcm90b3R5cGUucHJlUmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB9O1xuICAgICAgICBCdXR0b24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB9O1xuICAgICAgICBCdXR0b24ucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jc3NDbGFzcykge1xuICAgICAgICAgICAgICAgIGVqMl9iYXNlXzMuYWRkQ2xhc3MoW3RoaXMuZWxlbWVudF0sIHRoaXMuY3NzQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pc1ByaW1hcnkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChjc3NDbGFzc05hbWUuUFJJTUFSWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IHRoaXMuY29udGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0SWNvbkNzcygpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlUnRsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3NOYW1lLlJUTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbFN0YXR1cyh0aGlzLmRpc2FibGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVqMl9iYXNlXzIucmlwcGxlRWZmZWN0KHRoaXMuZWxlbWVudCwgeyBzZWxlY3RvcjogJy4nICsgY3NzQ2xhc3NOYW1lLkJVVFRPTiB9KTtcbiAgICAgICAgICAgIHRoaXMud2lyZUV2ZW50cygpO1xuICAgICAgICB9O1xuICAgICAgICBCdXR0b24ucHJvdG90eXBlLmNvbnRyb2xTdGF0dXMgPSBmdW5jdGlvbiAoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgICAgICB9O1xuICAgICAgICBCdXR0b24ucHJvdG90eXBlLnNldEljb25Dc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pY29uQ3NzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQudGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3NOYW1lLklDT05CVE4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgc3BhbiA9IGVqMl9iYXNlXzMuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnZS1idG4taWNvbiAnICsgdGhpcy5pY29uQ3NzIH0pO1xuICAgICAgICAgICAgICAgIHZhciBub2RlID0gdGhpcy5lbGVtZW50LmNoaWxkTm9kZXNbMF07XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUgJiYgdGhpcy5pY29uUG9zaXRpb24gPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuaW5zZXJ0QmVmb3JlKHNwYW4sIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ2UtaWNvbi1sZWZ0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmljb25Qb3NpdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCdlLWljb24tcmlnaHQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgQnV0dG9uLnByb3RvdHlwZS53aXJlRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNUb2dnbGUpIHtcbiAgICAgICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5hZGQodGhpcy5lbGVtZW50LCAnY2xpY2snLCB0aGlzLmJ0bkNsaWNrSGFuZGxlciwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIEJ1dHRvbi5wcm90b3R5cGUudW5XaXJlRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNUb2dnbGUpIHtcbiAgICAgICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5yZW1vdmUodGhpcy5lbGVtZW50LCAnY2xpY2snLCB0aGlzLmJ0bkNsaWNrSGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIEJ1dHRvbi5wcm90b3R5cGUuYnRuQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2UtYWN0aXZlJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZS1hY3RpdmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdlLWFjdGl2ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBCdXR0b24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3BhbjtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgICAgICBlajJfYmFzZV8zLnJlbW92ZUNsYXNzKFt0aGlzLmVsZW1lbnRdLCBbY3NzQ2xhc3NOYW1lLlBSSU1BUlksIGNzc0NsYXNzTmFtZS5SVEwsIGNzc0NsYXNzTmFtZS5JQ09OQlROLCAnZS1zdWNjZXNzJyxcbiAgICAgICAgICAgICAgICAnZS1pbmZvJywgJ2UtZGFuZ2VyJywgJ2Utd2FybmluZycsICdlLWZsYXQnLCAnZS1vdXRsaW5lJywgJ2Utc21hbGwnLCAnZS1iaWdnZXInLCAnZS1hY3RpdmUnLCAnZS1yb3VuZCddKTtcbiAgICAgICAgICAgIFsnZS1yaXBwbGUnLCAnZGlzYWJsZWQnXS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGVudCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gZWxlbWVudC5pbm5lckhUTUwucmVwbGFjZSh0aGlzLmNvbnRlbnQsICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNwYW4gPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4uZS1idG4taWNvbicpO1xuICAgICAgICAgICAgaWYgKHNwYW4pIHtcbiAgICAgICAgICAgICAgICBlajJfYmFzZV8zLmRldGFjaChzcGFuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudW5XaXJlRXZlbnRzKCk7XG4gICAgICAgIH07XG4gICAgICAgIEJ1dHRvbi5wcm90b3R5cGUuZ2V0TW9kdWxlTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAnYnRuJztcbiAgICAgICAgfTtcbiAgICAgICAgQnV0dG9uLnByb3RvdHlwZS5nZXRQZXJzaXN0RGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZE9uUGVyc2lzdChbXSk7XG4gICAgICAgIH07XG4gICAgICAgIEJ1dHRvbi5wcm90b3R5cGUub25Qcm9wZXJ0eUNoYW5nZWQgPSBmdW5jdGlvbiAobmV3UHJvcCwgb2xkUHJvcCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5rZXlzKG5ld1Byb3ApOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBwcm9wID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocHJvcCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdpc1ByaW1hcnknOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Byb3AuaXNQcmltYXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3NOYW1lLlBSSU1BUlkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY3NzQ2xhc3NOYW1lLlBSSU1BUlkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Rpc2FibGVkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbFN0YXR1cyh0aGlzLmRpc2FibGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdpY29uQ3NzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcGFuID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4uZS1idG4taWNvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuLmNsYXNzTmFtZSA9ICdlLWJ0bi1pY29uICcgKyB0aGlzLmljb25Dc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pY29uUG9zaXRpb24gPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCdlLWljb24tbGVmdCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCdlLWljb24tcmlnaHQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SWNvbkNzcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ljb25Qb3NpdGlvbic6XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGFuID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4uZS1idG4taWNvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlajJfYmFzZV8zLmRldGFjaChzcGFuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SWNvbkNzcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Nzc0NsYXNzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRQcm9wLmNzc0NsYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWoyX2Jhc2VfMy5yZW1vdmVDbGFzcyhbdGhpcy5lbGVtZW50XSwgb2xkUHJvcC5jc3NDbGFzcy5zcGxpdCgnICcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVqMl9iYXNlXzMuYWRkQ2xhc3MoW3RoaXMuZWxlbWVudF0sIG5ld1Byb3AuY3NzQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZW5hYmxlUnRsJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdQcm9wLmVuYWJsZVJ0bCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNzc0NsYXNzTmFtZS5SVEwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY3NzQ2xhc3NOYW1lLlJUTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY29udGVudCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGNvbW1vbl8xLmdldFRleHROb2RlKHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUudGV4dENvbnRlbnQgPSBuZXdQcm9wLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MID0gbmV3UHJvcC5jb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNzc0NsYXNzTmFtZS5JQ09OQlROKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEljb25Dc3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdpc1RvZ2dsZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3UHJvcC5pc1RvZ2dsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLmFkZCh0aGlzLmVsZW1lbnQsICdjbGljaycsIHRoaXMuYnRuQ2xpY2tIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLnJlbW92ZSh0aGlzLmVsZW1lbnQsICdjbGljaycsIHRoaXMuYnRuQ2xpY2tIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlajJfYmFzZV8zLnJlbW92ZUNsYXNzKFt0aGlzLmVsZW1lbnRdLCBbJ2UtYWN0aXZlJ10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gQnV0dG9uO1xuICAgIH0oZWoyX2Jhc2VfMS5Db21wb25lbnQpKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eSgnbGVmdCcpXG4gICAgXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJpY29uUG9zaXRpb25cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eSgnJylcbiAgICBdLCBCdXR0b24ucHJvdG90eXBlLCBcImljb25Dc3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eShmYWxzZSlcbiAgICBdLCBCdXR0b24ucHJvdG90eXBlLCBcImRpc2FibGVkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIGVqMl9iYXNlXzEuUHJvcGVydHkoZmFsc2UpXG4gICAgXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJpc1ByaW1hcnlcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eSgnJylcbiAgICBdLCBCdXR0b24ucHJvdG90eXBlLCBcImNzc0NsYXNzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIGVqMl9iYXNlXzEuUHJvcGVydHkoJycpXG4gICAgXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJjb250ZW50XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIGVqMl9iYXNlXzEuUHJvcGVydHkoZmFsc2UpXG4gICAgXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJpc1RvZ2dsZVwiLCB2b2lkIDApO1xuICAgIEJ1dHRvbiA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBlajJfYmFzZV8xLk5vdGlmeVByb3BlcnR5Q2hhbmdlc1xuICAgIF0sIEJ1dHRvbik7XG4gICAgZXhwb3J0cy5CdXR0b24gPSBCdXR0b247XG4gICAgZXhwb3J0cy5idXR0b25CdWlsZGVyID0gZWoyX2Jhc2VfMi5DcmVhdGVCdWlsZGVyKEJ1dHRvbik7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2J1dHRvbi9idXR0b24uanNcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZGVmaW5lKFtcInJlcXVpcmVcIiwgXCJleHBvcnRzXCIsIFwiLi9jaGVjay1ib3hcIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBjaGVja19ib3hfMSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4gICAgX19leHBvcnQoY2hlY2tfYm94XzEpO1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jaGVjay1ib3gvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5kZWZpbmUoW1wicmVxdWlyZVwiLCBcImV4cG9ydHNcIiwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiLCBcIkBzeW5jZnVzaW9uL2VqMi1iYXNlXCIsIFwiQHN5bmNmdXNpb24vZWoyLWJhc2VcIiwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIGVqMl9iYXNlXzEsIGVqMl9iYXNlXzIsIGVqMl9iYXNlXzMsIGVqMl9iYXNlXzQpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4gICAgdmFyIENIRUNLID0gJ2UtY2hlY2snO1xuICAgIHZhciBESVNBQkxFRCA9ICdlLWNoZWNrYm94LWRpc2FibGVkJztcbiAgICB2YXIgRlJBTUUgPSAnZS1mcmFtZSc7XG4gICAgdmFyIElOREVURVJNSU5BVEUgPSAnZS1zdG9wJztcbiAgICB2YXIgTEFCRUwgPSAnZS1sYWJlbCc7XG4gICAgdmFyIFJJUFBMRSA9ICdlLXJpcHBsZS1jb250YWluZXInO1xuICAgIHZhciBSSVBQTEVDSEVDSyA9ICdlLXJpcHBsZS1jaGVjayc7XG4gICAgdmFyIFJJUFBMRUlOREVURVJNSU5BVEUgPSAnZS1yaXBwbGUtc3RvcCc7XG4gICAgdmFyIFJUTCA9ICdlLXJ0bCc7XG4gICAgdmFyIFdSQVBQRVIgPSAnZS1jaGVja2JveC13cmFwcGVyJztcbiAgICB2YXIgQ2hlY2tCb3ggPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICBfX2V4dGVuZHMoQ2hlY2tCb3gsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIENoZWNrQm94KG9wdGlvbnMsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMsIGVsZW1lbnQpIHx8IHRoaXM7XG4gICAgICAgICAgICBfdGhpcy5pc0tleVByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUuY2hhbmdlU3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgIHZhciBhcmlhU3RhdGU7XG4gICAgICAgICAgICB2YXIgcmlwcGxlU3BhbjtcbiAgICAgICAgICAgIHZhciBmcmFtZVNwYW4gPSB0aGlzLmdldFdyYXBwZXIoKS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKEZSQU1FKVswXTtcbiAgICAgICAgICAgIGlmIChlajJfYmFzZV8zLmlzUmlwcGxlRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHJpcHBsZVNwYW4gPSB0aGlzLmdldFdyYXBwZXIoKS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFJJUFBMRSlbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09ICdjaGVjaycpIHtcbiAgICAgICAgICAgICAgICBmcmFtZVNwYW4uY2xhc3NMaXN0LnJlbW92ZShJTkRFVEVSTUlOQVRFKTtcbiAgICAgICAgICAgICAgICBmcmFtZVNwYW4uY2xhc3NMaXN0LmFkZChDSEVDSyk7XG4gICAgICAgICAgICAgICAgaWYgKHJpcHBsZVNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgcmlwcGxlU3Bhbi5jbGFzc0xpc3QucmVtb3ZlKFJJUFBMRUlOREVURVJNSU5BVEUpO1xuICAgICAgICAgICAgICAgICAgICByaXBwbGVTcGFuLmNsYXNzTGlzdC5hZGQoUklQUExFQ0hFQ0spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhcmlhU3RhdGUgPSAndHJ1ZSc7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUgPT09ICd1bmNoZWNrJykge1xuICAgICAgICAgICAgICAgIGVqMl9iYXNlXzMucmVtb3ZlQ2xhc3MoW2ZyYW1lU3Bhbl0sIFtDSEVDSywgSU5ERVRFUk1JTkFURV0pO1xuICAgICAgICAgICAgICAgIGlmIChyaXBwbGVTcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgIGVqMl9iYXNlXzMucmVtb3ZlQ2xhc3MoW3JpcHBsZVNwYW5dLCBbUklQUExFQ0hFQ0ssIFJJUFBMRUlOREVURVJNSU5BVEVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXJpYVN0YXRlID0gJ2ZhbHNlJztcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZnJhbWVTcGFuLmNsYXNzTGlzdC5yZW1vdmUoQ0hFQ0spO1xuICAgICAgICAgICAgICAgIGZyYW1lU3Bhbi5jbGFzc0xpc3QuYWRkKElOREVURVJNSU5BVEUpO1xuICAgICAgICAgICAgICAgIGlmIChyaXBwbGVTcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgIHJpcHBsZVNwYW4uY2xhc3NMaXN0LnJlbW92ZShSSVBQTEVDSEVDSyk7XG4gICAgICAgICAgICAgICAgICAgIHJpcHBsZVNwYW4uY2xhc3NMaXN0LmFkZChSSVBQTEVJTkRFVEVSTUlOQVRFKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXJpYVN0YXRlID0gJ21peGVkJztcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuaW5kZXRlcm1pbmF0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmdldFdyYXBwZXIoKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtY2hlY2tlZCcsIGFyaWFTdGF0ZSk7XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS5jbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZm9jdXNPdXRIYW5kbGVyKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5pbmRldGVybWluYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZSh0aGlzLmNoZWNrZWQgPyAnY2hlY2snIDogJ3VuY2hlY2snKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV0ZXJtaW5hdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuaW5kZXRlcm1pbmF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZSgndW5jaGVjaycpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZSgnY2hlY2snKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoYW5nZUV2ZW50QXJncyA9IHsgY2hlY2tlZDogdGhpcy5lbGVtZW50LmNoZWNrZWQsIGV2ZW50OiBldmVudCB9O1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdjaGFuZ2UnLCBjaGFuZ2VFdmVudEFyZ3MpO1xuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gdGhpcy5nZXRXcmFwcGVyKCk7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5XaXJlRXZlbnRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3cmFwcGVyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuZWxlbWVudCwgd3JhcHBlcik7XG4gICAgICAgICAgICBlajJfYmFzZV8zLmRldGFjaCh3cmFwcGVyKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5pbmRldGVybWluYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmluZGV0ZXJtaW5hdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm5hbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCduYW1lJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS5mb2N1c0hhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0tleVByZXNzZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldFdyYXBwZXIoKS5jbGFzc0xpc3QuYWRkKCdlLWZvY3VzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS5mb2N1c091dEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmdldFdyYXBwZXIoKS5jbGFzc0xpc3QucmVtb3ZlKCdlLWZvY3VzJyk7XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS5nZXRNb2R1bGVOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICdjaGVja2JveCc7XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS5nZXRQZXJzaXN0RGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZE9uUGVyc2lzdChbJ2NoZWNrZWQnLCAnaW5kZXRlcm1pbmF0ZSddKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ2hlY2tCb3gucHJvdG90eXBlLmdldFdyYXBwZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgfTtcbiAgICAgICAgQ2hlY2tCb3gucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5uYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnbmFtZScsIHRoaXMubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgdGhpcy52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZSgnY2hlY2snKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmluZGV0ZXJtaW5hdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RGlzYWJsZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgQ2hlY2tCb3gucHJvdG90eXBlLmluaXRXcmFwcGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGlmICghd3JhcHBlci5jbGFzc0xpc3QuY29udGFpbnMoV1JBUFBFUikpIHtcbiAgICAgICAgICAgICAgICB3cmFwcGVyID0gZWoyX2Jhc2VfMy5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogV1JBUFBFUiwgYXR0cnM6IHsgJ3JvbGUnOiAnY2hlY2tib3gnLCAnYXJpYS1jaGVja2VkJzogJ2ZhbHNlJyB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHdyYXBwZXIsIHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBlajJfYmFzZV8zLmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJywgeyBhdHRyczogeyBmb3I6IHRoaXMuZWxlbWVudC5pZCB9IH0pO1xuICAgICAgICAgICAgdmFyIGZyYW1lU3BhbiA9IGVqMl9iYXNlXzMuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnZS1pY29ucyAnICsgRlJBTUUgfSk7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVSdGwpIHtcbiAgICAgICAgICAgICAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoUlRMKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNzc0NsYXNzKSB7XG4gICAgICAgICAgICAgICAgZWoyX2Jhc2VfMy5hZGRDbGFzcyhbd3JhcHBlcl0sIHRoaXMuY3NzQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgICAgICAgIGxhYmVsLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICBsYWJlbC5hcHBlbmRDaGlsZChmcmFtZVNwYW4pO1xuICAgICAgICAgICAgaWYgKGVqMl9iYXNlXzMuaXNSaXBwbGVFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJpcHBsZVNwYW4gPSBlajJfYmFzZV8zLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogUklQUExFIH0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhYmVsUG9zaXRpb24gPT09ICdiZWZvcmUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLmFwcGVuZENoaWxkKHJpcHBsZVNwYW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuaW5zZXJ0QmVmb3JlKHJpcHBsZVNwYW4sIGZyYW1lU3Bhbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVqMl9iYXNlXzMucmlwcGxlRWZmZWN0KHJpcHBsZVNwYW4sIHsgZHVyYXRpb246IDQwMCwgaXNDZW50ZXJSaXBwbGU6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5sYWJlbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VGV4dCh0aGlzLmxhYmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgQ2hlY2tCb3gucHJvdG90eXBlLmtleUFjdGlvbkhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUuYWN0aW9uID09PSAnc3BhY2UnKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xpY2tIYW5kbGVyKGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNIYW5kbGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS5rZXlEb3duSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuaXNLZXlQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgQ2hlY2tCb3gucHJvdG90eXBlLmxhYmVsTW91c2VIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciByaXBwbGVTcGFuID0gdGhpcy5nZXRXcmFwcGVyKCkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShSSVBQTEUpWzBdO1xuICAgICAgICAgICAgaWYgKHJpcHBsZVNwYW4pIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRfMSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpO1xuICAgICAgICAgICAgICAgIGV2ZW50XzEuaW5pdEV2ZW50KGUudHlwZSwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgIHJpcHBsZVNwYW4uZGlzcGF0Y2hFdmVudChldmVudF8xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgQ2hlY2tCb3gucHJvdG90eXBlLm1vdXNlRG93bkhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmlzS2V5UHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUub25Qcm9wZXJ0eUNoYW5nZWQgPSBmdW5jdGlvbiAobmV3UHJvcCwgb2xkUHJvcCkge1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSB0aGlzLmdldFdyYXBwZXIoKTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhuZXdQcm9wKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcCA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2hlY2tlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGV0ZXJtaW5hdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5pbmRldGVybWluYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKG5ld1Byb3AuY2hlY2tlZCA/ICdjaGVjaycgOiAndW5jaGVjaycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2luZGV0ZXJtaW5hdGUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Byb3AuaW5kZXRlcm1pbmF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5pbmRldGVybWluYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZSh0aGlzLmNoZWNrZWQgPyAnY2hlY2snIDogJ3VuY2hlY2snKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdkaXNhYmxlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3UHJvcC5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RGlzYWJsZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVuV2lyZUV2ZW50cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKERJU0FCTEVEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICdmYWxzZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2lyZUV2ZW50cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Nzc0NsYXNzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRQcm9wLmNzc0NsYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKG9sZFByb3AuY3NzQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKG5ld1Byb3AuY3NzQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2VuYWJsZVJ0bCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3UHJvcC5lbmFibGVSdGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoUlRMKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZShSVEwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xhYmVsJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VGV4dChuZXdQcm9wLmxhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdsYWJlbFBvc2l0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbCA9IHdyYXBwZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShMQUJFTClbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFiZWxXcmFwID0gd3JhcHBlci5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGFiZWwnKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVqMl9iYXNlXzMuZGV0YWNoKGxhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdQcm9wLmxhYmVsUG9zaXRpb24gPT09ICdhZnRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFdyYXAuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxXcmFwLmluc2VydEJlZm9yZShsYWJlbCwgd3JhcHBlci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKEZSQU1FKVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbmFtZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCduYW1lJywgbmV3UHJvcC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd2YWx1ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIG5ld1Byb3AudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUucHJlUmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC50YWdOYW1lID09PSAnRUotQ0hFQ0tCT1gnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVqSW5zdCA9IGVqMl9iYXNlXzQuZ2V0VmFsdWUoJ2VqMl9pbnN0YW5jZXMnLCB0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IGVqMl9iYXNlXzMuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IGF0dHJzOiB7ICd0eXBlJzogJ2NoZWNrYm94JyB9IH0pO1xuICAgICAgICAgICAgICAgIHZhciBwcm9wcyA9IFsnY2hhbmdlJywgJ2Nzc0NsYXNzJywgJ2luZGV0ZXJtaW5hdGUnLCAnbGFiZWwnLCAnbGFiZWxQb3NpdGlvbiddO1xuICAgICAgICAgICAgICAgIHZhciB3cmFwcGVyID0gZWoyX2Jhc2VfMy5jcmVhdGVFbGVtZW50KCdFSi1DSEVDS0JPWCcsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBXUkFQUEVSLCBhdHRyczogeyAncm9sZSc6ICdjaGVja2JveCcsICdhcmlhLWNoZWNrZWQnOiAnZmFsc2UnIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDAsIGxlbiA9IHRoaXMuZWxlbWVudC5hdHRyaWJ1dGVzLmxlbmd0aDsgaW5kZXggPCBsZW47IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BzLmluZGV4T2YodGhpcy5lbGVtZW50LmF0dHJpYnV0ZXNbaW5kZXhdLm5vZGVOYW1lKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSh0aGlzLmVsZW1lbnQuYXR0cmlidXRlc1tpbmRleF0ubm9kZU5hbWUsIHRoaXMuZWxlbWVudC5hdHRyaWJ1dGVzW2luZGV4XS5ub2RlVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShpbnB1dCwgdGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgICAgICBlajJfYmFzZV8zLmRldGFjaCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IGlucHV0O1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh3cmFwcGVyLCB0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgICAgICBlajJfYmFzZV80LnNldFZhbHVlKCdlajJfaW5zdGFuY2VzJywgZWpJbnN0LCB0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSAhPT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnY2hlY2tib3gnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5lbGVtZW50LmlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmlkID0gZWoyX2Jhc2VfNC5nZXRVbmlxdWVJRCgnZS0nICsgdGhpcy5nZXRNb2R1bGVOYW1lKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5pbml0V3JhcHBlcigpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndpcmVFdmVudHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgQ2hlY2tCb3gucHJvdG90eXBlLnNldERpc2FibGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSB0aGlzLmdldFdyYXBwZXIoKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoRElTQUJMRUQpO1xuICAgICAgICAgICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUuc2V0VGV4dCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSB0aGlzLmdldFdyYXBwZXIoKS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKExBQkVMKVswXTtcbiAgICAgICAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICAgICAgICAgIGxhYmVsLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxhYmVsID0gZWoyX2Jhc2VfMy5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IExBQkVMLCBpbm5lckhUTUw6IHRleHQgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGxhYmVsV3JhcCA9IHRoaXMuZ2V0V3JhcHBlcigpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsYWJlbCcpWzBdO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhYmVsUG9zaXRpb24gPT09ICdiZWZvcmUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsV3JhcC5pbnNlcnRCZWZvcmUobGFiZWwsIHRoaXMuZ2V0V3JhcHBlcigpLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoRlJBTUUpWzBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsV3JhcC5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUudW5XaXJlRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSB0aGlzLmdldFdyYXBwZXIoKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLnJlbW92ZSh0aGlzLmVsZW1lbnQsICdjbGljaycsIHRoaXMuY2xpY2tIYW5kbGVyKTtcbiAgICAgICAgICAgIHRoaXMua2V5Ym9hcmRNb2R1bGUuZGVzdHJveSgpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIucmVtb3ZlKGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMua2V5RG93bkhhbmRsZXIpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIucmVtb3ZlKHdyYXBwZXIsICdtb3VzZWRvd24nLCB0aGlzLm1vdXNlRG93bkhhbmRsZXIpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIucmVtb3ZlKHRoaXMuZWxlbWVudCwgJ2ZvY3VzJywgdGhpcy5mb2N1c0hhbmRsZXIpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIucmVtb3ZlKHRoaXMuZWxlbWVudCwgJ2ZvY3Vzb3V0JywgdGhpcy5mb2N1c091dEhhbmRsZXIpO1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gd3JhcHBlci5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGFiZWwnKVswXTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLnJlbW92ZShsYWJlbCwgJ21vdXNlZG93bicsIHRoaXMubGFiZWxNb3VzZUhhbmRsZXIpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIucmVtb3ZlKGxhYmVsLCAnbW91c2V1cCcsIHRoaXMubGFiZWxNb3VzZUhhbmRsZXIpO1xuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUud2lyZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gdGhpcy5nZXRXcmFwcGVyKCk7XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5hZGQodGhpcy5lbGVtZW50LCAnY2xpY2snLCB0aGlzLmNsaWNrSGFuZGxlciwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmtleWJvYXJkTW9kdWxlID0gbmV3IGVqMl9iYXNlXzIuS2V5Ym9hcmRFdmVudHMod3JhcHBlciwge1xuICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogJ2tleXVwJyxcbiAgICAgICAgICAgICAgICBrZXlBY3Rpb246IHRoaXMua2V5QWN0aW9uSGFuZGxlci5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgIGtleUNvbmZpZ3M6IHsgc3BhY2U6ICdzcGFjZScgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5hZGQoZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5rZXlEb3duSGFuZGxlciwgdGhpcyk7XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5hZGQod3JhcHBlciwgJ21vdXNlZG93bicsIHRoaXMubW91c2VEb3duSGFuZGxlciwgdGhpcyk7XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5hZGQodGhpcy5lbGVtZW50LCAnZm9jdXMnLCB0aGlzLmZvY3VzSGFuZGxlciwgdGhpcyk7XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5hZGQodGhpcy5lbGVtZW50LCAnZm9jdXNvdXQnLCB0aGlzLmZvY3VzT3V0SGFuZGxlciwgdGhpcyk7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSB3cmFwcGVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsYWJlbCcpWzBdO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIuYWRkKGxhYmVsLCAnbW91c2Vkb3duJywgdGhpcy5sYWJlbE1vdXNlSGFuZGxlciwgdGhpcyk7XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5hZGQobGFiZWwsICdtb3VzZXVwJywgdGhpcy5sYWJlbE1vdXNlSGFuZGxlciwgdGhpcyk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBDaGVja0JveDtcbiAgICB9KGVqMl9iYXNlXzEuQ29tcG9uZW50KSk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIGVqMl9iYXNlXzIuRXZlbnQoKVxuICAgIF0sIENoZWNrQm94LnByb3RvdHlwZSwgXCJjaGFuZ2VcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eShmYWxzZSlcbiAgICBdLCBDaGVja0JveC5wcm90b3R5cGUsIFwiY2hlY2tlZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KCcnKVxuICAgIF0sIENoZWNrQm94LnByb3RvdHlwZSwgXCJjc3NDbGFzc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KGZhbHNlKVxuICAgIF0sIENoZWNrQm94LnByb3RvdHlwZSwgXCJkaXNhYmxlZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KGZhbHNlKVxuICAgIF0sIENoZWNrQm94LnByb3RvdHlwZSwgXCJpbmRldGVybWluYXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIGVqMl9iYXNlXzEuUHJvcGVydHkoJycpXG4gICAgXSwgQ2hlY2tCb3gucHJvdG90eXBlLCBcImxhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIGVqMl9iYXNlXzEuUHJvcGVydHkoJ2FmdGVyJylcbiAgICBdLCBDaGVja0JveC5wcm90b3R5cGUsIFwibGFiZWxQb3NpdGlvblwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KCcnKVxuICAgIF0sIENoZWNrQm94LnByb3RvdHlwZSwgXCJuYW1lXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIGVqMl9iYXNlXzEuUHJvcGVydHkoJycpXG4gICAgXSwgQ2hlY2tCb3gucHJvdG90eXBlLCBcInZhbHVlXCIsIHZvaWQgMCk7XG4gICAgQ2hlY2tCb3ggPSBfX2RlY29yYXRlKFtcbiAgICAgICAgZWoyX2Jhc2VfMS5Ob3RpZnlQcm9wZXJ0eUNoYW5nZXNcbiAgICBdLCBDaGVja0JveCk7XG4gICAgZXhwb3J0cy5DaGVja0JveCA9IENoZWNrQm94O1xuICAgIGV4cG9ydHMuY2hlY2tCb3hCdWlsZGVyID0gZWoyX2Jhc2VfMS5DcmVhdGVCdWlsZGVyKENoZWNrQm94KTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY2hlY2stYm94L2NoZWNrLWJveC5qc1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJkZWZpbmUoW1wicmVxdWlyZVwiLCBcImV4cG9ydHNcIiwgXCIuL3JhZGlvLWJ1dHRvblwiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIHJhZGlvX2J1dHRvbl8xKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgICAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiAgICBfX2V4cG9ydChyYWRpb19idXR0b25fMSk7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3JhZGlvLWJ1dHRvbi9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmRlZmluZShbXCJyZXF1aXJlXCIsIFwiZXhwb3J0c1wiLCBcIkBzeW5jZnVzaW9uL2VqMi1iYXNlXCIsIFwiQHN5bmNmdXNpb24vZWoyLWJhc2VcIiwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiLCBcIkBzeW5jZnVzaW9uL2VqMi1iYXNlXCIsIFwiLi8uLi9jb21tb24vY29tbW9uXCJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgZWoyX2Jhc2VfMSwgZWoyX2Jhc2VfMiwgZWoyX2Jhc2VfMywgZWoyX2Jhc2VfNCwgY29tbW9uXzEpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4gICAgdmFyIExBQkVMID0gJ2UtbGFiZWwnO1xuICAgIHZhciBSSVBQTEUgPSAnZS1yaXBwbGUtY29udGFpbmVyJztcbiAgICB2YXIgUlRMID0gJ2UtcnRsJztcbiAgICB2YXIgV1JBUFBFUiA9ICdlLXJhZGlvLXdyYXBwZXInO1xuICAgIHZhciBSYWRpb0J1dHRvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIF9fZXh0ZW5kcyhSYWRpb0J1dHRvbiwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gUmFkaW9CdXR0b24ob3B0aW9ucywgZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucywgZWxlbWVudCkgfHwgdGhpcztcbiAgICAgICAgICAgIF90aGlzLmlzS2V5UHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5jaGFuZ2VIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kYXRhQmluZCgpO1xuICAgICAgICAgICAgdmFyIGNoYW5nZUV2ZW50QXJncyA9IHsgY2hlY2tlZDogdHJ1ZSwgZXZlbnQ6IGV2ZW50IH07XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2NoYW5nZScsIGNoYW5nZUV2ZW50QXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS51cGRhdGVDaGFuZ2UgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgIHZhciBpbnB1dDtcbiAgICAgICAgICAgIHZhciBuYW1lID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpO1xuICAgICAgICAgICAgdmFyIHJhZGlvR3JwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQuZS1yYWRpb1tuYW1lPVwiJyArIG5hbWUgKyAnXCJdJyk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhZGlvR3JwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQgPSByYWRpb0dycFtpXTtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQgIT09IHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dC5lajJfaW5zdGFuY2VzWzBdLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gdGhpcy5nZXRMYWJlbCgpO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuV2lyZUV2ZW50cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWoyX2Jhc2VfMy5kZXRhY2gobGFiZWwpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLm5hbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCduYW1lJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5mb2N1c0hhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0tleVByZXNzZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldExhYmVsKCkuY2xhc3NMaXN0LmFkZCgnZS1mb2N1cycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUuZm9jdXNPdXRIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5nZXRMYWJlbCgpLmNsYXNzTGlzdC5yZW1vdmUoJ2UtZm9jdXMnKTtcbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLmdldE1vZHVsZU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3JhZGlvJztcbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLmdldFBlcnNpc3REYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRkT25QZXJzaXN0KFsnY2hlY2tlZCddKTtcbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLmdldExhYmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5pbml0V3JhcHBlcigpO1xuICAgICAgICAgICAgaWYgKHRoaXMubmFtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCB0aGlzLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXREaXNhYmxlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUuaW5pdFdyYXBwZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmlwcGxlU3BhbjtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIXdyYXBwZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFdSQVBQRVIpKSB7XG4gICAgICAgICAgICAgICAgd3JhcHBlciA9IGVqMl9iYXNlXzMuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6IFdSQVBQRVIgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHdyYXBwZXIsIHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBlajJfYmFzZV8zLmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJywgeyBhdHRyczogeyBmb3I6IHRoaXMuZWxlbWVudC5pZCB9IH0pO1xuICAgICAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICAgICAgICBpZiAoZWoyX2Jhc2VfMy5pc1JpcHBsZUVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICByaXBwbGVTcGFuID0gZWoyX2Jhc2VfMy5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IChSSVBQTEUpIH0pO1xuICAgICAgICAgICAgICAgIGxhYmVsLmFwcGVuZENoaWxkKHJpcHBsZVNwYW4pO1xuICAgICAgICAgICAgICAgIGVqMl9iYXNlXzEucmlwcGxlRWZmZWN0KHJpcHBsZVNwYW4sIHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDQwMCxcbiAgICAgICAgICAgICAgICAgICAgaXNDZW50ZXJSaXBwbGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZVJ0bCkge1xuICAgICAgICAgICAgICAgIGxhYmVsLmNsYXNzTGlzdC5hZGQoUlRMKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNzc0NsYXNzKSB7XG4gICAgICAgICAgICAgICAgZWoyX2Jhc2VfMy5hZGRDbGFzcyhbbGFiZWxdLCB0aGlzLmNzc0NsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubGFiZWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRleHQodGhpcy5sYWJlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5rZXlEb3duSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuaXNLZXlQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLmxhYmVsUmlwcGxlSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgcmlwcGxlID0gdGhpcy5nZXRMYWJlbCgpLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoUklQUExFKVswXTtcbiAgICAgICAgICAgIGlmIChyaXBwbGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRfMSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpO1xuICAgICAgICAgICAgICAgIGV2ZW50XzEuaW5pdEV2ZW50KGUudHlwZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmlwcGxlLmRpc3BhdGNoRXZlbnQoZXZlbnRfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5tb3VzZURvd25IYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5pc0tleVByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLm9uUHJvcGVydHlDaGFuZ2VkID0gZnVuY3Rpb24gKG5ld1Byb3AsIG9sZFByb3ApIHtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IHRoaXMuZ2V0TGFiZWwoKTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhuZXdQcm9wKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcCA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2hlY2tlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3UHJvcC5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDaGFuZ2UobmV3UHJvcC5jaGVja2VkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jaGVja2VkID0gbmV3UHJvcC5jaGVja2VkO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Rpc2FibGVkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdQcm9wLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXREaXNhYmxlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudW5XaXJlRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndpcmVFdmVudHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdjc3NDbGFzcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkUHJvcC5jc3NDbGFzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsLmNsYXNzTGlzdC5yZW1vdmUob2xkUHJvcC5jc3NDbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5jbGFzc0xpc3QuYWRkKG5ld1Byb3AuY3NzQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2VuYWJsZVJ0bCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3UHJvcC5lbmFibGVSdGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5jbGFzc0xpc3QuYWRkKFJUTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5jbGFzc0xpc3QucmVtb3ZlKFJUTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbGFiZWwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRUZXh0KG5ld1Byb3AubGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xhYmVsUG9zaXRpb24nOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Byb3AubGFiZWxQb3NpdGlvbiA9PT0gJ2JlZm9yZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5jbGFzc0xpc3QuYWRkKCdlLXJpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5jbGFzc0xpc3QucmVtb3ZlKCdlLXJpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbmFtZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCduYW1lJywgbmV3UHJvcC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd2YWx1ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIG5ld1Byb3AudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUucHJlUmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgICAgICBlbGVtZW50ID0gY29tbW9uXzEud3JhcHBlckluaXRpYWxpemUoJ0VKLVJBRElPQlVUVE9OJywgJ3JhZGlvJywgZWxlbWVudCwgV1JBUFBFUik7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSAhPT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAncmFkaW8nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5lbGVtZW50LmlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmlkID0gZWoyX2Jhc2VfNC5nZXRVbmlxdWVJRCgnZS0nICsgdGhpcy5nZXRNb2R1bGVOYW1lKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndpcmVFdmVudHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLnNldERpc2FibGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLnNldFRleHQgPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gdGhpcy5nZXRMYWJlbCgpO1xuICAgICAgICAgICAgdmFyIHRleHRMYWJlbCA9IGxhYmVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoTEFCRUwpWzBdO1xuICAgICAgICAgICAgaWYgKHRleHRMYWJlbCkge1xuICAgICAgICAgICAgICAgIHRleHRMYWJlbC50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZXh0TGFiZWwgPSBlajJfYmFzZV8zLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogTEFCRUwsIGlubmVySFRNTDogdGV4dCB9KTtcbiAgICAgICAgICAgICAgICBsYWJlbC5hcHBlbmRDaGlsZCh0ZXh0TGFiZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubGFiZWxQb3NpdGlvbiA9PT0gJ2JlZm9yZScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldExhYmVsKCkuY2xhc3NMaXN0LmFkZCgnZS1yaWdodCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRMYWJlbCgpLmNsYXNzTGlzdC5yZW1vdmUoJ2UtcmlnaHQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLnVuV2lyZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IHRoaXMuZ2V0TGFiZWwoKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLnJlbW92ZSh0aGlzLmVsZW1lbnQsICdjaGFuZ2UnLCB0aGlzLmNoYW5nZUhhbmRsZXIpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIucmVtb3ZlKGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMua2V5RG93bkhhbmRsZXIpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIucmVtb3ZlKGxhYmVsLCAnbW91c2Vkb3duJywgdGhpcy5tb3VzZURvd25IYW5kbGVyKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLnJlbW92ZSh0aGlzLmVsZW1lbnQsICdmb2N1cycsIHRoaXMuZm9jdXNIYW5kbGVyKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLnJlbW92ZSh0aGlzLmVsZW1lbnQsICdmb2N1c291dCcsIHRoaXMuZm9jdXNPdXRIYW5kbGVyKTtcbiAgICAgICAgICAgIHZhciByaXBwbGVMYWJlbCA9IGxhYmVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoTEFCRUwpWzBdO1xuICAgICAgICAgICAgaWYgKHJpcHBsZUxhYmVsKSB7XG4gICAgICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIucmVtb3ZlKHJpcHBsZUxhYmVsLCAnbW91c2Vkb3duJywgdGhpcy5sYWJlbFJpcHBsZUhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLnJlbW92ZShyaXBwbGVMYWJlbCwgJ21vdXNldXAnLCB0aGlzLmxhYmVsUmlwcGxlSGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS53aXJlRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gdGhpcy5nZXRMYWJlbCgpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIuYWRkKHRoaXMuZWxlbWVudCwgJ2NoYW5nZScsIHRoaXMuY2hhbmdlSGFuZGxlciwgdGhpcyk7XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5hZGQoZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5rZXlEb3duSGFuZGxlciwgdGhpcyk7XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5hZGQobGFiZWwsICdtb3VzZWRvd24nLCB0aGlzLm1vdXNlRG93bkhhbmRsZXIsIHRoaXMpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIuYWRkKHRoaXMuZWxlbWVudCwgJ2ZvY3VzJywgdGhpcy5mb2N1c0hhbmRsZXIsIHRoaXMpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIuYWRkKHRoaXMuZWxlbWVudCwgJ2ZvY3Vzb3V0JywgdGhpcy5mb2N1c091dEhhbmRsZXIsIHRoaXMpO1xuICAgICAgICAgICAgdmFyIHJpcHBsZUxhYmVsID0gbGFiZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShMQUJFTClbMF07XG4gICAgICAgICAgICBpZiAocmlwcGxlTGFiZWwpIHtcbiAgICAgICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5hZGQocmlwcGxlTGFiZWwsICdtb3VzZWRvd24nLCB0aGlzLmxhYmVsUmlwcGxlSGFuZGxlciwgdGhpcyk7XG4gICAgICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIuYWRkKHJpcHBsZUxhYmVsLCAnbW91c2V1cCcsIHRoaXMubGFiZWxSaXBwbGVIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFJhZGlvQnV0dG9uO1xuICAgIH0oZWoyX2Jhc2VfMS5Db21wb25lbnQpKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgZWoyX2Jhc2VfMi5FdmVudCgpXG4gICAgXSwgUmFkaW9CdXR0b24ucHJvdG90eXBlLCBcImNoYW5nZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KGZhbHNlKVxuICAgIF0sIFJhZGlvQnV0dG9uLnByb3RvdHlwZSwgXCJjaGVja2VkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIGVqMl9iYXNlXzEuUHJvcGVydHkoJycpXG4gICAgXSwgUmFkaW9CdXR0b24ucHJvdG90eXBlLCBcImNzc0NsYXNzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIGVqMl9iYXNlXzEuUHJvcGVydHkoZmFsc2UpXG4gICAgXSwgUmFkaW9CdXR0b24ucHJvdG90eXBlLCBcImRpc2FibGVkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIGVqMl9iYXNlXzEuUHJvcGVydHkoJycpXG4gICAgXSwgUmFkaW9CdXR0b24ucHJvdG90eXBlLCBcImxhYmVsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIGVqMl9iYXNlXzEuUHJvcGVydHkoJ2FmdGVyJylcbiAgICBdLCBSYWRpb0J1dHRvbi5wcm90b3R5cGUsIFwibGFiZWxQb3NpdGlvblwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KCcnKVxuICAgIF0sIFJhZGlvQnV0dG9uLnByb3RvdHlwZSwgXCJuYW1lXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIGVqMl9iYXNlXzEuUHJvcGVydHkoJycpXG4gICAgXSwgUmFkaW9CdXR0b24ucHJvdG90eXBlLCBcInZhbHVlXCIsIHZvaWQgMCk7XG4gICAgUmFkaW9CdXR0b24gPSBfX2RlY29yYXRlKFtcbiAgICAgICAgZWoyX2Jhc2VfMS5Ob3RpZnlQcm9wZXJ0eUNoYW5nZXNcbiAgICBdLCBSYWRpb0J1dHRvbik7XG4gICAgZXhwb3J0cy5SYWRpb0J1dHRvbiA9IFJhZGlvQnV0dG9uO1xuICAgIGV4cG9ydHMucmFkaW9CdXR0b25CdWlsZGVyID0gZWoyX2Jhc2VfMS5DcmVhdGVCdWlsZGVyKFJhZGlvQnV0dG9uKTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvcmFkaW8tYnV0dG9uL3JhZGlvLWJ1dHRvbi5qc1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9"]}